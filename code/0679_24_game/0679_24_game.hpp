#pragma once

#include <algorithm>
#include <vector>

using u16 = uint16_t;

class Solution
{
public:
    constexpr static std::array<u16, 404> kValid{
        3222, 3321, 3322, 3331, 3332, 3333, 4221, 4222, 4311, 4321, 4322, 4331,
        4333, 4411, 4421, 4422, 4431, 4432, 4433, 4441, 4442, 4443, 4444, 5221,
        5222, 5311, 5321, 5322, 5331, 5332, 5333, 5411, 5421, 5422, 5431, 5432,
        5433, 5441, 5442, 5443, 5444, 5511, 5521, 5522, 5532, 5533, 5541, 5542,
        5543, 5544, 5551, 5554, 5555, 6211, 6221, 6311, 6321, 6322, 6331, 6332,
        6333, 6411, 6421, 6422, 6431, 6432, 6433, 6441, 6442, 6443, 6444, 6511,
        6521, 6522, 6531, 6532, 6533, 6541, 6542, 6543, 6544, 6551, 6553, 6554,
        6555, 6611, 6621, 6622, 6631, 6632, 6633, 6641, 6642, 6643, 6651, 6652,
        6653, 6654, 6655, 6661, 6662, 6663, 6664, 6665, 6666, 7211, 7221, 7222,
        7311, 7321, 7322, 7331, 7332, 7333, 7411, 7421, 7422, 7431, 7432, 7433,
        7441, 7442, 7443, 7444, 7511, 7521, 7522, 7531, 7532, 7533, 7541, 7542,
        7543, 7544, 7552, 7553, 7554, 7621, 7622, 7631, 7632, 7633, 7641, 7642,
        7651, 7652, 7653, 7654, 7655, 7662, 7663, 7664, 7665, 7721, 7722, 7731,
        7732, 7733, 7741, 7742, 7743, 7744, 7752, 7754, 7755, 7763, 7764, 7765,
        7773, 7774, 8111, 8211, 8221, 8222, 8311, 8321, 8322, 8331, 8332, 8333,
        8411, 8421, 8422, 8431, 8432, 8433, 8441, 8442, 8443, 8444, 8511, 8521,
        8522, 8531, 8532, 8541, 8542, 8543, 8544, 8552, 8553, 8554, 8611, 8621,
        8622, 8631, 8632, 8633, 8641, 8642, 8643, 8644, 8651, 8652, 8653, 8654,
        8655, 8661, 8662, 8663, 8664, 8665, 8666, 8721, 8722, 8731, 8732, 8733,
        8741, 8742, 8743, 8744, 8751, 8752, 8753, 8754, 8755, 8762, 8763, 8764,
        8765, 8772, 8773, 8774, 8811, 8821, 8822, 8831, 8832, 8833, 8841, 8842,
        8844, 8851, 8852, 8853, 8854, 8855, 8861, 8862, 8863, 8864, 8865, 8866,
        8871, 8872, 8873, 8874, 8875, 8881, 8882, 8883, 8884, 8885, 8886, 9211,
        9221, 9222, 9311, 9321, 9322, 9331, 9332, 9333, 9411, 9421, 9422, 9431,
        9432, 9433, 9441, 9442, 9443, 9444, 9521, 9522, 9531, 9532, 9533, 9541,
        9542, 9543, 9551, 9552, 9553, 9554, 9555, 9611, 9621, 9622, 9631, 9632,
        9633, 9641, 9642, 9643, 9644, 9651, 9652, 9653, 9654, 9661, 9662, 9663,
        9664, 9665, 9666, 9721, 9731, 9732, 9733, 9741, 9742, 9743, 9744, 9751,
        9752, 9753, 9754, 9761, 9762, 9763, 9764, 9765, 9766, 9771, 9773, 9775,
        9821, 9822, 9831, 9832, 9833, 9841, 9842, 9843, 9844, 9851, 9852, 9853,
        9854, 9855, 9861, 9862, 9863, 9864, 9865, 9866, 9871, 9872, 9873, 9874,
        9875, 9876, 9881, 9882, 9883, 9884, 9885, 9886, 9887, 9931, 9932, 9933,
        9942, 9943, 9951, 9953, 9954, 9955, 9961, 9962, 9963, 9964, 9965, 9971,
        9973, 9974, 9976, 9982, 9983, 9984, 9986, 9993,
    };

    [[nodiscard]] static constexpr bool judgePoint24(
        std::vector<int>& cards) noexcept
    {
        std::ranges::sort(cards);
        return std::ranges::binary_search(
            kValid,
            static_cast<u16>(
                cards[0] + cards[1] * 10 + cards[2] * 100 + cards[3] * 1000));
    }
};
